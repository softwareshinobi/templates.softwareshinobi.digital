
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../software-licenses/">
      
      
        <link rel="next" href="../../images-pictures/readme/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>User Guide - Card Players Unite</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../styling-custom-mkdocs.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#user-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Card Players Unite" class="md-header__button md-logo" aria-label="Card Players Unite" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Card Players Unite
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Card Players Unite" class="md-nav__button md-logo" aria-label="Card Players Unite" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Card Players Unite
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bringing together the nation's best card players in a tournament near you.
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-cloud-infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Infrastructure Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../software-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    00 Cloud infrastructure
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            00 Cloud infrastructure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../00-Cloud-infrastructure/1-coming-soon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    card-players-unite / postgres-database [coming-soon]
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 Wordpress Server
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            01 Wordpress Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-Wordpress-Server/1-coming-soon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    card-players-unite / postgres-database [coming-soon]
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02 Postgres Database
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            02 Postgres Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../02-Postgres-Database/1-coming-soon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    card-players-unite / postgres-database [coming-soon]
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03 Django Rest Api
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            03 Django Rest Api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/1-django-rest-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    card-players-unite / django-rest-api
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/conversion-detail-matrix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/development-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/getting-started-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/how-to-article/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maven Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/installation-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konsole Installation Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/software-architecture-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/software-licenses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../03-Django-Rest-Api/user-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Template content
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Template content
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" checked>
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Konsole pristine
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            Konsole pristine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kompose - Convert your Docker Compose file to Kubernetes or OpenShift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_2" checked>
        
          
          <label class="md-nav__link" for="__nav_8_1_2" id="__nav_8_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            Developer guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conversion-detail-matrix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-article/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maven Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konsole Installation Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../software-architecture-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../software-licenses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kompose-convert" class="md-nav__link">
    <span class="md-ellipsis">
      Kompose Convert
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kompose Convert">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openshift" class="md-nav__link">
    <span class="md-ellipsis">
      OpenShift
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-conversions" class="md-nav__link">
    <span class="md-ellipsis">
      Alternative Conversions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels" class="md-nav__link">
    <span class="md-ellipsis">
      Labels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    <span class="md-ellipsis">
      Restart
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restart">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#warning-about-deployment-configs" class="md-nav__link">
    <span class="md-ellipsis">
      Warning about Deployment Config's
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-policies-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Network policies generation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-and-push-image" class="md-nav__link">
    <span class="md-ellipsis">
      Build and push image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build and push image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication-on-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication on registry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-build-and-push" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Build and Push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_3" >
        
          
          <label class="md-nav__link" for="__nav_8_1_3" id="__nav_8_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Images pictures
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_3">
            <span class="md-nav__icon md-icon"></span>
            Images pictures
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../images-pictures/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Images & Pictures Home
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_4" >
        
          
          <label class="md-nav__link" for="__nav_8_1_4" id="__nav_8_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Project management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            Project management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project-management/project-management-home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    project-management-home.md
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Project management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Project management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/board/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Board
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/eisenhower-matrix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eisenhower Priority Matrix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/gantt-chart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gantt chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/instruction-document/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Document Title
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/milestone-chart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Milestone Chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/project-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/project-planning-summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Planning Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/project-summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-management/risk-identification-chart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Risk Identification Chart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kompose-convert" class="md-nav__link">
    <span class="md-ellipsis">
      Kompose Convert
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kompose Convert">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openshift" class="md-nav__link">
    <span class="md-ellipsis">
      OpenShift
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-conversions" class="md-nav__link">
    <span class="md-ellipsis">
      Alternative Conversions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels" class="md-nav__link">
    <span class="md-ellipsis">
      Labels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    <span class="md-ellipsis">
      Restart
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restart">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#warning-about-deployment-configs" class="md-nav__link">
    <span class="md-ellipsis">
      Warning about Deployment Config's
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-policies-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Network policies generation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-and-push-image" class="md-nav__link">
    <span class="md-ellipsis">
      Build and push image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build and push image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication-on-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication on registry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-build-and-push" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Build and Push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="user-guide">User Guide</h1>
<p>Kompose has support for two providers: OpenShift and Kubernetes.</p>
<p><img src="/../images-pictures/cover-image.png" alt= “” wiaadth="225" heighat="225"></p>
<p>You can choose a targeted provider using global option <code>--provider</code>. If no provider is specified, Kubernetes is set by default.</p>
<h2 id="kompose-convert">Kompose Convert</h2>
<p>Kompose supports conversion of V1, V2, and V3 Docker Compose files into Kubernetes and OpenShift objects.</p>
<h3 id="kubernetes">Kubernetes</h3>
<pre><code class="language-sh">$ kompose --file docker-voting.yml convert
WARN Unsupported key networks - ignoring
WARN Unsupported key build - ignoring
INFO Kubernetes file &quot;worker-svc.yaml&quot; created
INFO Kubernetes file &quot;db-svc.yaml&quot; created
INFO Kubernetes file &quot;redis-svc.yaml&quot; created
INFO Kubernetes file &quot;result-svc.yaml&quot; created
INFO Kubernetes file &quot;vote-svc.yaml&quot; created
INFO Kubernetes file &quot;redis-deployment.yaml&quot; created
INFO Kubernetes file &quot;result-deployment.yaml&quot; created
INFO Kubernetes file &quot;vote-deployment.yaml&quot; created
INFO Kubernetes file &quot;worker-deployment.yaml&quot; created
INFO Kubernetes file &quot;db-deployment.yaml&quot; created

$ ls
db-deployment.yaml  docker-compose.yml         docker-gitlab.yml  redis-deployment.yaml  result-deployment.yaml  vote-deployment.yaml  worker-deployment.yaml
db-svc.yaml         docker-voting.yml          redis-svc.yaml     result-svc.yaml        vote-svc.yaml           worker-svc.yaml
</code></pre>
<p>You can also provide multiple docker-compose files at the same time:</p>
<pre><code class="language-sh">$ kompose -f docker-compose.yml -f docker-guestbook.yml convert
INFO Kubernetes file &quot;frontend-service.yaml&quot; created
INFO Kubernetes file &quot;mlbparks-service.yaml&quot; created
INFO Kubernetes file &quot;mongodb-service.yaml&quot; created
INFO Kubernetes file &quot;redis-master-service.yaml&quot; created
INFO Kubernetes file &quot;redis-replica-service.yaml&quot; created
INFO Kubernetes file &quot;frontend-deployment.yaml&quot; created
INFO Kubernetes file &quot;mlbparks-deployment.yaml&quot; created
INFO Kubernetes file &quot;mongodb-deployment.yaml&quot; created
INFO Kubernetes file &quot;mongodb-claim0-persistentvolumeclaim.yaml&quot; created
INFO Kubernetes file &quot;redis-master-deployment.yaml&quot; created
INFO Kubernetes file &quot;redis-replica-deployment.yaml&quot; created

$ ls
mlbparks-deployment.yaml  mongodb-service.yaml                       redis-replica-service.jsonmlbparks-service.yaml
frontend-deployment.yaml  mongodb-claim0-persistentvolumeclaim.yaml  redis-master-service.yaml
frontend-service.yaml     mongodb-deployment.yaml                    redis-replica-deployment.yaml
redis-master-deployment.yaml
</code></pre>
<p>When multiple docker-compose files are provided the configuration is merged. Any configuration that is common will be over ridden by subsequent file.</p>
<h3 id="openshift">OpenShift</h3>
<pre><code class="language-sh">$ kompose --provider openshift --file docker-voting.yml convert
WARN [worker] Service cannot be created because of missing port.
INFO OpenShift file &quot;vote-service.yaml&quot; created
INFO OpenShift file &quot;db-service.yaml&quot; created
INFO OpenShift file &quot;redis-service.yaml&quot; created
INFO OpenShift file &quot;result-service.yaml&quot; created
INFO OpenShift file &quot;vote-deploymentconfig.yaml&quot; created
INFO OpenShift file &quot;vote-imagestream.yaml&quot; created
INFO OpenShift file &quot;worker-deploymentconfig.yaml&quot; created
INFO OpenShift file &quot;worker-imagestream.yaml&quot; created
INFO OpenShift file &quot;db-deploymentconfig.yaml&quot; created
INFO OpenShift file &quot;db-imagestream.yaml&quot; created
INFO OpenShift file &quot;redis-deploymentconfig.yaml&quot; created
INFO OpenShift file &quot;redis-imagestream.yaml&quot; created
INFO OpenShift file &quot;result-deploymentconfig.yaml&quot; created
INFO OpenShift file &quot;result-imagestream.yaml&quot; created
</code></pre>
<p>It also supports creating buildconfig for build directive in a service. By default, it uses the remote repository for the current git branch as the source repository, and the current branch as the source branch for the build. You can specify a different source repository and branch using <code>--build-repo</code> and <code>--build-branch</code> options respectively.</p>
<pre><code class="language-sh">$ kompose --provider openshift --file buildconfig/docker-compose.yml convert
WARN [foo] Service cannot be created because of missing port.
INFO OpenShift Buildconfig using git@github.com:rtnpro/kompose.git::master as source.
INFO OpenShift file &quot;foo-deploymentconfig.yaml&quot; created
INFO OpenShift file &quot;foo-imagestream.yaml&quot; created
INFO OpenShift file &quot;foo-buildconfig.yaml&quot; created
</code></pre>
<p><strong>Note</strong>: If you are manually pushing the Openshift artifacts using <code>oc create -f</code>, you need to ensure that you push the imagestream artifact before the buildconfig artifact, to work around this Openshift issue: https://github.com/openshift/origin/issues/4518 .</p>
<h2 id="alternative-conversions">Alternative Conversions</h2>
<p>The default <code>kompose</code> transformation will generate Kubernetes <a href="http://kubernetes.io/docs/user-guide/deployments/">Deployments</a> and <a href="http://kubernetes.io/docs/user-guide/services/">Services</a>, in yaml format. You have alternative option to generate json with <code>-j</code>. Also, you can alternatively generate <a href="http://kubernetes.io/docs/user-guide/replication-controller/">Replication Controllers</a> objects, <a href="http://kubernetes.io/docs/admin/daemons/">Daemon Sets</a>, <a href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/">Statefulset</a> or <a href="https://github.com/helm/helm">Helm</a> charts.</p>
<pre><code class="language-sh">$ kompose convert -j
INFO Kubernetes file &quot;redis-svc.json&quot; created
INFO Kubernetes file &quot;web-svc.json&quot; created
INFO Kubernetes file &quot;redis-deployment.json&quot; created
INFO Kubernetes file &quot;web-deployment.json&quot; created
</code></pre>
<p>The <code>*-deployment.json</code> files contain the Deployment objects.</p>
<pre><code class="language-sh">$ kompose convert --controller replicationController
INFO Kubernetes file &quot;redis-svc.yaml&quot; created
INFO Kubernetes file &quot;web-svc.yaml&quot; created
INFO Kubernetes file &quot;redis-replicationcontroller.yaml&quot; created
INFO Kubernetes file &quot;web-replicationcontroller.yaml&quot; created
</code></pre>
<p>The <code>*-replicationcontroller.yaml</code> files contain the Replication Controller objects. If you want to specify replicas (default is 1), use <code>--replicas</code> flag: <code>$ kompose convert --controller replicationController --replicas 3</code></p>
<pre><code class="language-sh">$ kompose convert --controller daemonSet
INFO Kubernetes file &quot;redis-svc.yaml&quot; created
INFO Kubernetes file &quot;web-svc.yaml&quot; created
INFO Kubernetes file &quot;redis-daemonset.yaml&quot; created
INFO Kubernetes file &quot;web-daemonset.yaml&quot; created
</code></pre>
<p>The <code>*-daemonset.yaml</code> files contain the Daemon Set objects</p>
<pre><code class="language-sh">$ kompose convert --controller statefulset
INFO Kubernetes file &quot;db-service.yaml&quot; created
INFO Kubernetes file &quot;wordpress-service.yaml&quot; created
INFO Kubernetes file &quot;db-statefulset.yaml&quot; created
INFO Kubernetes file &quot;wordpress-statefulset.yaml&quot; created
</code></pre>
<p>The <code>*statefulset-.yaml</code> files contain the Statefulset objects.</p>
<p>If you want to generate a Chart to be used with <a href="https://github.com/kubernetes/helm">Helm</a> simply do:</p>
<pre><code class="language-sh">$ kompose convert -c
INFO Kubernetes file &quot;web-svc.yaml&quot; created
INFO Kubernetes file &quot;redis-svc.yaml&quot; created
INFO Kubernetes file &quot;web-deployment.yaml&quot; created
INFO Kubernetes file &quot;redis-deployment.yaml&quot; created
chart created in &quot;./docker-compose/&quot;

$ tree docker-compose/
docker-compose
├── Chart.yaml
├── README.md
└── templates
    ├── redis-deployment.yaml
    ├── redis-svc.yaml
    ├── web-deployment.yaml
    └── web-svc.yaml
</code></pre>
<p>The chart structure is aimed at providing a skeleton for building your Helm charts. It's compatible with both Helm V2 and Helm V3.</p>
<h2 id="labels">Labels</h2>
<p><code>kompose</code> supports Kompose-specific labels within the <code>docker-compose.yml</code> file to
explicitly define the generated resources' behavior upon conversion, like Service, PersistentVolumeClaim...</p>
<p>The currently supported options are:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>kompose.service.type</td>
<td>nodeport / clusterip / loadbalancer / headless</td>
</tr>
<tr>
<td>kompose.service.group</td>
<td>name to group the containers contained in a single pod</td>
</tr>
<tr>
<td>kompose.service.expose</td>
<td>true / hostnames (separated by comma)</td>
</tr>
<tr>
<td>kompose.service.nodeport.port</td>
<td>port value (string)</td>
</tr>
<tr>
<td>kompose.service.expose.tls-secret</td>
<td>secret name</td>
</tr>
<tr>
<td>kompose.service.expose.ingress-class-name</td>
<td>ingress class name</td>
</tr>
<tr>
<td>kompose.volume.size</td>
<td>kubernetes supported volume size</td>
</tr>
<tr>
<td>kompose.volume.storage-class-name</td>
<td>kubernetes supported volume storageClassName</td>
</tr>
<tr>
<td>kompose.volume.type</td>
<td>use k8s volume type, eg "configMap", "persistentVolumeClaim", "emptyDir", "hostPath"</td>
</tr>
<tr>
<td>kompose.controller.type</td>
<td>deployment / daemonset / replicationcontroller / statefulset</td>
</tr>
<tr>
<td>kompose.image-pull-policy</td>
<td>kubernetes pods imagePullPolicy</td>
</tr>
<tr>
<td>kompose.image-pull-secret</td>
<td>kubernetes secret name for imagePullSecrets</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.disable</td>
<td>kubernetes readiness disable</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.test</td>
<td>kubernetes readiness exec command</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.http_get_path</td>
<td>kubernetes readiness httpGet path</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.http_get_port</td>
<td>kubernetes readiness httpGet port</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.tcp_port</td>
<td>kubernetes readiness tcpSocket port</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.interval</td>
<td>kubernetes readiness interval value</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.timeout</td>
<td>kubernetes readiness timeout value</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.retries</td>
<td>kubernetes readiness retries value</td>
</tr>
<tr>
<td>kompose.service.healthcheck.readiness.start_period</td>
<td>kubernetes readiness start_period</td>
</tr>
<tr>
<td>kompose.service.healthcheck.liveness.http_get_path</td>
<td>kubernetes liveness httpGet path</td>
</tr>
<tr>
<td>kompose.service.healthcheck.liveness.http_get_port</td>
<td>kubernetes liveness httpGet port</td>
</tr>
<tr>
<td>kompose.service.healthcheck.liveness.tcp_port</td>
<td>kubernetes liveness tcpSocket port</td>
</tr>
<tr>
<td>kompose.service.external-traffic-policy</td>
<td>'cluster', 'local', ''</td>
</tr>
<tr>
<td>kompose.security-context.fsgroup</td>
<td>kubernetes pod security group fsgroup</td>
</tr>
<tr>
<td>kompose.volume.sub-path</td>
<td>kubernetes volume mount subpath</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: <code>kompose.service.type</code> label should be defined with <code>ports</code> only (except for headless service), otherwise <code>kompose</code> will fail.</p>
<ul>
<li><code>kompose.service.type</code> defines the type of service to be created.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: &quot;2&quot;
services:
  nginx:
    image: nginx
    dockerfile: foobar
    build: ./foobar
    cap_add:
      - ALL
    container_name: foobar
    labels:
      kompose.service.type: nodeport
</code></pre>
<ul>
<li><code>kompose.service.group</code> defines the group of containers included in a single pod.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: &quot;3&quot;

services:
  nginx:
    image: nginx
    depends_on:
      - logs
    labels:
      - kompose.service.group=sidecar

  logs:
    image: busybox
    command: [&quot;tail -f /var/log/nginx/access.log&quot;]
    labels:
      - kompose.service.group=sidecar
</code></pre>
<ul>
<li><code>kompose.service.expose</code> defines if the service needs to be made accessible from outside the cluster or not. If the value is set to "true", the provider sets the endpoint automatically, and for any other value, the value is set as the hostname. If multiple ports are defined in a service, the first one is chosen to be the exposed.</li>
<li>For the Kubernetes provider, an ingress resource is created, and it is assumed that an ingress controller has already been configured. If the value is set to a comma-separated list, multiple hostnames are supported. Hostname with the path is also supported.</li>
<li>For the OpenShift provider, a route is created.</li>
<li><code>kompose.service.nodeport.port</code> defines the port value when service type is <code>nodeport</code>, this label should only be set when the service only contains 1 port. Usually kubernetes define a port range for node port values, kompose will not validate this.</li>
<li><code>kompose.service.expose.tls-secret</code> provides the name of the TLS secret to use with the Kubernetes ingress controller. This requires kompose.service.expose to be set.</li>
<li><code>kompose.service.expose.ingress-class-name</code> provides the name of ingress class to use with the Kubernetes ingress controller. This requires kompose.service.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: &quot;2&quot;
services:
  web:
    image: tuna/docker-counter23
    ports:
     - &quot;5000:5000&quot;
    links:
     - redis
    labels:
      kompose.service.expose: &quot;counter.example.com,foobar.example.com&quot;
      kompose.service.expose.tls-secret: &quot;example-secret&quot;
      kompose.service.expose.ingress-class-name: &quot;nginx&quot;
  redis:
    image: redis:3.0
    ports:
     - &quot;6379&quot;
</code></pre>
<ul>
<li><code>kompose.serviceaccount-name</code> defines the service account name to provide the credential info of the pod.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '3.4'
services:
  app:
    image: python
    labels:
      kompose.serviceaccount-name: &quot;my-service&quot;
</code></pre>
<ul>
<li><code>kompose.image-pull-secret</code> defines a kubernetes secret name for imagePullSecrets podspec field.
  This secret will be used for pulling private images.
  For example:</li>
</ul>
<pre><code class="language-yaml">version: '2'
services:
  tm-service:
    image: premium/private-image
    labels:
      kompose.image-pull-secret: &quot;example-kubernetes-secret&quot;
</code></pre>
<ul>
<li><code>kompose.volume.size</code> defines the requests storage's size in the PersistentVolumeClaim, or you can use the command line parameter <code>--pvc-request-size</code>.</li>
<li>The priority follows label (kompose.volume.size) &gt; command parameter(--pvc-request-size) &gt; defaultSize (100Mi)</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '2'
services:
  db:
    image: postgres:10.1
    labels:
      kompose.volume.size: 1Gi
    volumes:
      - db-data:/var/lib/postgresql/data
</code></pre>
<ul>
<li><code>kompose.volume.storage-class-name</code> defines the requests storage's class name in the PersistentVolumeClaim.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '3'
services:
  db:
    image: postgres:10.1
    labels:
      kompose.volume.storage-class-name: custom-storage-class-name
    volumes:
      - db-data:/var/lib/postgresql/data
</code></pre>
<ul>
<li><code>kompose.controller.type</code> defines which controller type should convert for this service</li>
</ul>
<p>For example:</p>
<pre><code>web:
  image: wordpress:4.5
  ports:
    - '80'
  environment:
    WORDPRESS_AUTH_KEY: changeme
    WORDPRESS_SECURE_AUTH_KEY: changeme
    WORDPRESS_LOGGED_IN_KEY: changeme
    WORDPRESS_NONCE_KEY: changeme
    WORDPRESS_AUTH_SALT: changeme
    WORDPRESS_SECURE_AUTH_SALT: changeme
    WORDPRESS_LOGGED_IN_SALT: changeme
    WORDPRESS_NONCE_SALT: changeme
    WORDPRESS_NONCE_AA: changeme
  restart: always
  links:
    - 'db:mysql'
db:
  image: mysql:5.7
  environment:
    MYSQL_ROOT_PASSWORD: password
  restart: always
  labels:
    project.logs: /var/log/mysql
    kompose.controller.type: daemonset
</code></pre>
<p>Service <code>web</code> will be converted to <code>Deployment</code> as default, service <code>db</code> will be converted to <code>DaemonSet</code> because of <code>kompose.controller.type</code> label.</p>
<ul>
<li><code>kompose.image-pull-policy</code> defines Kubernetes PodSpec imagePullPolicy. One of Always, Never, IfNotPresent. Defaults to Always if :latest tag is specified, or IfNotPresent otherwise.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '2'
services:
  example-service:
    image: example-image
    labels:
      kompose.image-pull-policy: &quot;Never&quot;
</code></pre>
<p>For example:</p>
<pre><code class="language-yaml">version: '2'
services:
  example-service:
    image: example-image
    labels:
      kompose.service.healthcheck.liveness.http_get_path: /health/ping
      kompose.service.healthcheck.liveness.http_get_port: 8080
    healthcheck:
      interval: 10s
      timeout: 10s
      retries: 3
      start_period: 30s
</code></pre>
<ul>
<li><code>kompose.service.healthcheck.liveness</code> defines Kubernetes <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-a-liveness-http-request">liveness HttpRequest</a>, If you use healthcheck without liveness labels, have to define <code>test</code> in healcheck it's work to Kubernetes <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-readiness-probes">liveness command</a></li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '2'
services:
  example-service:
    image: example-image
    labels:
      kompose.service.healthcheck.readiness.test: CMD curl -f &quot;http://localhost:8080/health/ping&quot;
      kompose.service.healthcheck.readiness.interval: 10s
      kompose.service.healthcheck.readiness.timeout: 10s
      kompose.service.healthcheck.readiness.retries: 3
      kompose.service.healthcheck.readiness.start_period: 30s
</code></pre>
<ul>
<li>
<p><code>kompose.service.healthcheck.readiness</code> defines Kubernetes <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-readiness-probes">readiness</a></p>
</li>
<li>
<p><code>kompose.service.external-traffic-policy</code> defines Kubernetes Service <a href="https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip">external traffic policy.</a>.</p>
</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: &quot;3.3&quot;

services:
  front-end:
    image: gcr.io/google-samples/gb-frontend:v4
    environment:
      - GET_HOSTS_FROM=dns
    ports:
      - 80:80
    labels:
      kompose.service.expose: lb
      kompose.service.external-traffic-policy: local
      kompose.service.type: loadbalancer
</code></pre>
<ul>
<li><code>kompose.security-context.fsgroup</code> defines Kubernetes Pod <a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">security context FsGroup.</a>.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '3.8'

services:
  pgadmin:
    image: nginx
    labels:
      kompose.security-context.fsgroup: 1001
</code></pre>
<ul>
<li><code>kompose.volume.sub-path</code> defines Kubernetes Container <a href="https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath">VolumeMounts Subpath</a>.</li>
</ul>
<p>For example:</p>
<pre><code class="language-yaml">version: '3.8'

services:
  pgadmin:
    image: postgres
    labels:
      kompose.volume.sub-path: pg-data
</code></pre>
<h2 id="restart">Restart</h2>
<p>If you want to create normal pods without controller you can use <code>restart</code> construct of docker-compose to define that. Follow table below to see what happens on the <code>restart</code> value.</p>
<table>
<thead>
<tr>
<th><code>docker-compose</code> <code>restart</code></th>
<th>object created</th>
<th>Pod <code>restartPolicy</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>""</code></td>
<td>controller object</td>
<td><code>Always</code></td>
</tr>
<tr>
<td><code>always</code></td>
<td>controller object</td>
<td><code>Always</code></td>
</tr>
<tr>
<td><code>unless-stopped</code></td>
<td>controller object</td>
<td><code>Always</code></td>
</tr>
<tr>
<td><code>on-failure</code></td>
<td>Pod</td>
<td><code>OnFailure</code></td>
</tr>
<tr>
<td><code>no</code></td>
<td>Pod</td>
<td><code>Never</code></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: controller object could be <code>deployment</code> or <code>replicationcontroller</code>, etc.</p>
<p>For e.g. <code>pival</code> service will become pod down here. This container calculated value of <code>pi</code>.</p>
<pre><code class="language-yaml">version: '2'

services:
  pival:
    image: perl
    command: [&quot;perl&quot;,  &quot;-Mbignum=bpi&quot;, &quot;-wle&quot;, &quot;print bpi(2000)&quot;]
    restart: &quot;on-failure&quot;
</code></pre>
<h4 id="warning-about-deployment-configs">Warning about Deployment Config's</h4>
<p>If the Docker Compose file has a volume specified for a service, the Deployment (Kubernetes) or DeploymentConfig (OpenShift) strategy is changed to "Recreate" instead of "RollingUpdate" (default). This is done to avoid multiple instances of a service from accessing a volume at the same time.</p>
<p>If the Docker Compose file has service name with <code>_</code> or <code>.</code> in it (eg.<code>web_service</code> or <code>web.service</code>), then it will be replaced by <code>-</code> and the service name will be renamed accordingly (eg.<code>web-service</code>). Kompose does this because "Kubernetes" doesn't allow <code>_</code> in object name.</p>
<p>Please note that changing service name might break some <code>docker-compose</code> files.</p>
<h2 id="network-policies-generation">Network policies generation</h2>
<p><a href="https://kubernetes.io/docs/concepts/services-networking/network-policies">Network policies</a> are not generated by default, because it's not mandatory to deploy your application. However, it's one of the best practices when it comes to deploy secure applications on top of Kubernetes.
To generate network policies, all you need is to use the <code>--generate-network-policies</code> flag.</p>
<h2 id="build-and-push-image">Build and push image</h2>
<p>If the Docker Compose file has <code>build</code> or <code>build:context, build:dockerfile</code> keys, build will run when <code>--build</code> specified.</p>
<p>And Image will push to <em>docker.io</em> (default) when <code>--push-image=true</code> specified.</p>
<p>It is possible to push to custom registry by specify <code>--push-image-registry</code>, which will override the registry from image name.</p>
<h3 id="authentication-on-registry">Authentication on registry</h3>
<p>Kompose uses the docker authentication from file <code>$DOCKER_CONFIG/config.json</code>, <code>$HOME/.docker/config.json</code>, and <code>$HOME/.dockercfg</code> after <code>docker login</code>.</p>
<p><strong>This only works fine on Linux but macOS would fail when using <code>"credsStore": "osxkeychain"</code>.</strong></p>
<p>However, there is an approach to push successfully on macOS, by not using <code>osxkeychain</code> for <code>credsStore</code>. To disable <code>osxkeychain</code>:</p>
<ul>
<li>remove <code>credsStore</code> from <code>config.json</code> file, and <code>docker login</code> again.</li>
<li>for some docker desktop versions, there is a setting <code>Securely store Docker logins in macOS keychain</code>, which should be unchecked. Then restart docker desktop if needed, and <code>docker login</code> again.</li>
</ul>
<p>Now <code>config.json</code> should contain base64 encoded passwords, then push image should succeed. Working, but not safe though! Use it at your risk.</p>
<p>For Windows, there is also <code>credsStore</code> which is <code>wincred</code>. Technically it will fail on authentication as macOS does, but you can try the approach above like macOS too.</p>
<h3 id="custom-build-and-push">Custom Build and Push</h3>
<p>If you want to customize the build and push processes and use another containers solution than Docker,
Kompose offers you the possibility to do that. You can use <code>--build-command</code> and <code>--push-command</code> flags
to achieve that.</p>
<p>e.g: <code>kompose -f convert --build-command 'whatever command --you-use' --push-command 'whatever command --you-use'</code></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>